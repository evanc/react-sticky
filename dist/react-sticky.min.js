!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactSticky=e(require("react"),require("react-dom")):t.ReactSticky=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Channel=e.StickyContainer=e.Sticky=void 0;var i=n(6),r=o(i),s=n(5),a=o(s),c=n(1),u=o(c);e.Sticky=r.default,e.StickyContainer=a.default,e.Channel=u.default,e.default=r.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){n(this,t);var o=[];e=e||{};var i=!1;this.subscribe=function(t){o.push(t),i&&t(e)},this.unsubscribe=function(t){var e=o.indexOf(t);e!==-1&&o.splice(e,1)},this.update=function(t){i=!0,t&&t(e),o.forEach(function(t){return t(e)})}};e.default=o,t.exports=e.default},function(t,e,n){t.exports=n(7)()},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(3),u=o(c),f=n(4),l=o(f),p=n(2),h=o(p),d=n(1),y=o(d),m=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.updateOffset=function(t){var e=t.inherited,o=t.offset;n.channel.update(function(t){t.inherited=e+o})},n.channel=new y.default({inherited:0,offset:0,node:null}),n}return s(e,t),a(e,[{key:"getChildContext",value:function(){return{"sticky-channel":this.channel}}},{key:"componentWillMount",value:function(){var t=this.context["sticky-channel"];t&&t.subscribe(this.updateOffset)}},{key:"componentDidMount",value:function(){var t=l.default.findDOMNode(this);this.channel.update(function(e){e.node=t})}},{key:"componentWillUnmount",value:function(){this.channel.update(function(t){t.node=null});var t=this.context["sticky-channel"];t&&t.unsubscribe(this.updateOffset)}},{key:"render",value:function(){return u.default.createElement("div",this.props,this.props.children)}}]),e}(u.default.Component);m.contextTypes={"sticky-channel":h.default.any},m.childContextTypes={"sticky-channel":h.default.any},e.default=m,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f=n(3),l=o(f),p=n(4),h=o(p),d=n(2),y=o(d),m=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.updateContext=function(t){var e=t.inherited,o=t.node;n.containerNode=o,n.setState({containerOffset:e,distanceFromBottom:n.getDistanceFromBottom()})},n.recomputeState=function(){var t=n.isSticky(),e=n.getHeight(),o=n.getWidth(),i=n.getXOffset(),r=n.getDistanceFromBottom(),s=n.state.isSticky!==t;n.setState({isSticky:t,height:e,width:o,xOffset:i,distanceFromBottom:r}),s&&(n.channel&&n.channel.update(function(n){n.offset=t?e:0}),n.props.onStickyStateChange(t))},n.state={},n}return a(e,t),u(e,[{key:"componentWillMount",value:function(){this.channel=this.context["sticky-channel"],this.channel.subscribe(this.updateContext)}},{key:"componentDidMount",value:function(){this.on(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.recomputeState()}},{key:"componentWillReceiveProps",value:function(){this.recomputeState()}},{key:"componentWillUnmount",value:function(){this.off(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.channel.unsubscribe(this.updateContext)}},{key:"getXOffset",value:function(){return this.refs.placeholder.getBoundingClientRect().left}},{key:"getWidth",value:function(){return this.refs.placeholder.getBoundingClientRect().width}},{key:"getHeight",value:function(){return h.default.findDOMNode(this.refs.children).getBoundingClientRect().height}},{key:"getDistanceFromTop",value:function(){return this.refs.placeholder.getBoundingClientRect().top}},{key:"getDistanceFromBottom",value:function(){return this.containerNode?this.containerNode.getBoundingClientRect().bottom:0}},{key:"isSticky",value:function(){if(!this.props.isActive)return!1;var t=this.getDistanceFromTop(),e=this.getDistanceFromBottom(),n=this.state.containerOffset-this.props.topOffset,o=this.state.containerOffset+this.props.bottomOffset;return t<=n&&e>=o}},{key:"on",value:function(t,e){t.forEach(function(t){window.addEventListener(t,e)})}},{key:"off",value:function(t,e){t.forEach(function(t){window.removeEventListener(t,e)})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this,o=Object.keys(this.props);if(Object.keys(t).length!=o.length)return!0;var i=o.every(function(e){return t.hasOwnProperty(e)&&t[e]===n.props[e]});if(!i)return!0;var r=this.state;if(e.isSticky!==r.isSticky)return!0;if(r.isSticky){if(e.height!==r.height)return!0;if(e.width!==r.width)return!0;if(e.xOffset!==r.xOffset)return!0;if(e.containerOffset!==r.containerOffset)return!0;if(e.distanceFromBottom!==r.distanceFromBottom)return!0}return!1}},{key:"render",value:function(){var t={paddingBottom:0},e=this.props.className,n=c({},{transform:"translateZ(0)"},this.props.style);if(this.state.isSticky){var o={position:"fixed",top:this.state.containerOffset,left:this.state.xOffset,width:this.state.width},r=this.state.distanceFromBottom-this.state.height-this.props.bottomOffset;this.state.containerOffset>r&&(o.top=r,e+=" "+this.props.bottomClassName),t.paddingBottom=this.state.height,e+=" "+this.props.stickyClassName,n=c({},n,o,this.props.stickyStyle)}var s=this.props,a=(s.topOffset,s.isActive,s.stickyClassName,s.bottomClassName,s.stickyStyle,s.bottomOffset,s.onStickyStateChange,i(s,["topOffset","isActive","stickyClassName","bottomClassName","stickyStyle","bottomOffset","onStickyStateChange"]));return l.default.createElement("div",null,l.default.createElement("div",{ref:"placeholder",style:t}),l.default.createElement("div",c({},a,{ref:"children",className:e,style:n}),this.props.children))}}]),e}(l.default.Component);m.propTypes={isActive:y.default.bool,className:y.default.string,style:y.default.object,stickyClassName:y.default.string,bottomClassName:y.default.string,stickyStyle:y.default.object,topOffset:y.default.number,bottomOffset:y.default.number,onStickyStateChange:y.default.func},m.defaultProps={isActive:!0,className:"",style:{},stickyClassName:"sticky",bottomClassName:"",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){}},m.contextTypes={"sticky-channel":y.default.any},e.default=m,t.exports=e.default},function(t,e,n){"use strict";function o(){}function i(){}var r=n(8);i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n}])});